(function(t){function e(e){for(var o,r,s=e[0],l=e[1],c=e[2],d=0,v=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},i={app:0},n=[];function r(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"40563de1","chunk-2d216257":"1eff1fbf","chunk-461b141f":"e3ce005d"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=i[t]=[e,o]}));e.push(a[2]=o);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",c.name="ChunkLoadError",c.type=o,c.request=n,a[1](c)}i[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Menu"),a("v-main",[a("router-view")],1),a("footer",[a("div",{staticClass:"Piepagina"},[a("h6",[t._v("ADSI Centro Agroturistico ©2021")])])])],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contenido"},[a("header",{attrs:{id:"encabezadoM"}},["Admin"==this.$store.state.rol||"vendedor"==this.$store.state.rol||"almacenista"==this.$store.state.rol?a("div",[a("div",{staticClass:"h2 text-success",attrs:{id:"iconsalir"}},[a("b-button",{attrs:{pill:"",variant:"outline-secondary"},on:{click:function(e){return t.salir()}}},[a("b-icon",{attrs:{variant:"primary",icon:"box-arrow-in-right"}}),t._v(" salir ")],1)],1),a("div",[a("b-dropdown",{attrs:{id:"menu",variant:"outline-secondary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"list",variant:"primary"}}),t._v(" Sistema ")]},proxy:!0}],null,!1,178429830)},[a("nav",[a("b-button",{attrs:{pill:"",variant:"outline-secondary","router-link":"",to:"/Minicio"}},[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Inicio ")],1),a("ul",["Admin"==this.$store.state.rol?a("li",[a("b-dropdown-item",[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Almacen ")],1),a("ul",{attrs:{id:"lol"}},[a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/categoria",tag:"button"}},[t._v(" Categoria")])],1)],1),a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/articulo",tag:"button"}},[t._v(" Articulos")])],1)],1)])],1):t._e(),a("b-dropdown-divider"),a("li",[a("b-dropdown-item",[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Compras ")],1),a("ul",[a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/ingreso",tag:"button"}},[t._v(" Ingresos")])],1)],1),a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/proveedor",tag:"button"}},[t._v(" Provedores")])],1)],1)])],1),a("b-dropdown-divider"),a("li",[a("b-dropdown-item",[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Ventas ")],1),a("ul",[a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/venta",tag:"button"}},[t._v("Ventas")])],1)],1),a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/cliente",tag:"button"}},[t._v(" Clientes")])],1)],1)])],1),a("b-dropdown-divider"),a("li",[a("b-dropdown-item",[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Accesos ")],1),a("ul",[a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"/usuario",tag:"button"}},[t._v("Usuarios")])],1)],1)])],1),a("b-dropdown-divider"),a("li",[a("b-dropdown-item",[a("b-icon",{staticClass:"ml-2",attrs:{icon:"house-door-fill"}}),t._v(" Consulta ")],1),a("ul",[a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"",tag:"button"}},[t._v("Consulta Compras")])],1)],1),a("li",{attrs:{id:"submenu"}},[a("b-dropdown-item-button",[a("router-link",{attrs:{to:"",tag:"button"}},[t._v(" Consulta Ventas")])],1)],1)])],1)],1)],1)])],1)]):t._e()])])},s=[],l={name:"Menu",data:function(){return{}},methods:{salir:function(){this.$store.dispatch("setToken",""),this.$store.dispatch("setRol",""),this.$router.push("/login")}},props:{}},c=l,d=(a("efa6"),a("2877")),u=Object(d["a"])(c,r,s,!1,null,null,null),v=u.exports,m={data:function(){},components:{Menu:v}},h=m,p=(a("034f"),a("6544")),f=a.n(p),b=a("7496"),x=a("f6c4"),g=Object(d["a"])(h,i,n,!1,null,null,null),_=g.exports;f()(g,{VApp:b["a"],VMain:x["a"]});var k=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inicio"},[a("div"),a("login")],1)},y=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fondo"},[a("div",{staticClass:"inicio"},[a("form",{staticClass:"form",attrs:{action:""}},[a("label",{staticClass:"form-label",attrs:{for:"#email"}},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.email,expression:"usuario.email"}],staticClass:"form-input",attrs:{type:"email",id:"email",required:"",placeholder:"Email"},domProps:{value:t.usuario.email},on:{input:function(e){e.target.composing||t.$set(t.usuario,"email",e.target.value)}}}),a("label",{staticClass:"form-label",attrs:{for:"#password"}},[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.password,expression:"usuario.password"}],staticClass:"form-input",attrs:{type:"password",id:"password",required:"",placeholder:"Password"},domProps:{value:t.usuario.password},on:{input:function(e){e.target.composing||t.$set(t.usuario,"password",e.target.value)}}}),a("v-btn",{staticClass:"btn-2",attrs:{value:"login",color:"#0b9185"},on:{click:t.inicioSesion}},[t._v(" Login ")])],1)])])},A=[],M=a("bc3a"),w=a.n(M),V={name:"login",data:function(){return{usuario:{email:null,password:null}}},props:{},methods:{inicioSesion:function(){var t=this;w.a.post("usuario/login",{email:t.usuario.email,password:t.usuario.password}).then((function(e){t.$store.dispatch("setToken",e.data),t.$store.dispatch("setRol",e.data.usuario.rol),t.$router.push("/Minicio"),console.log(e.data)})).catch((function(t){var e=t.response;console.log(e.data.msg),alert(e.data.msg)}))}}},D=V,N=(a("9ce0"),a("8336")),T=Object(d["a"])(D,I,A,!1,null,null,null),P=T.exports;f()(T,{VBtn:N["a"]});var j={name:"Inicio",components:{login:P}},E=j,$=Object(d["a"])(E,C,y,!1,null,null,null),O=$.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menuu"},[a("Menu")],1)},F=[],K={name:"Menuu",components:{Menu:v}},B=K,L=Object(d["a"])(B,S,F,!1,null,null,null),R=L.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"minicio"},[a("div"),a("Minicio")],1)},U=[],z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grafica"},[a("h1",[t._v("Ventas en el año")]),a("img",{attrs:{src:"https://www.uib.es/digitalAssets/186/186564_paginesVistes.png",width:"74%",height:"50%",alt:""}})])}],J={name:"Minicio",data:function(){return{}},props:{}},H=J,Q=Object(d["a"])(H,z,G,!1,null,null,null),W=Q.exports,X={name:"Minicios",components:{Minicio:W}},Y=X,Z=Object(d["a"])(Y,q,U,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("button",{on:{click:t.crearPDF}},[a("v-icon",[t._v(" mdi-printer-check")])],1),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.tituForm))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.cerrar}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.actiDesaCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.ModalEliminar,callback:function(e){t.ModalEliminar=e},expression:"ModalEliminar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Eliminar Item ")]),a("v-card-text",[t._v(" Estás a punto de eliminar el item "),a("v-spacer"),t._v(" "+t._s(t.Nombre)+" ")],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.DeleteCerrar()}}},[t._v(" Cancelar ")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)})],1)],1)],1)},at=[],ot=(a("d81d"),a("0da4"),a("8baf")),it={data:function(){return{search:"",categorias:[],categoria:"holaa",dialog:!1,headers:[{text:"Nombre",value:"nombre",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],editedIndex:-1,id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],Modal:0,ModalEliminar:0,Accion:0,Nombre:"",Id:""}},computed:{tituForm:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.cerrar()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("categoria",e).then((function(e){t.categorias=e.data.categoria})).catch((function(t){console.log(t)}))},crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"Descripcion",dataKey:"descripcion"},{title:"Estado",dataKey:"estado"}],e=[];console.log(this.categorias),this.categorias.map((function(t){e.push({nombre:t.nombre,descripcion:t.descripcion,estado:t.estado})}));var a=new ot["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Lista de Categorias",40,30)}}),a.save("Categoria.pdf")},limpiar:function(){this.id="",this.nombre="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la categoría debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción de la categorí­a no debe tener más de 255 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={headers:{token:this.$store.state.token}};if(!this.validar())if(this.editedIndex>-1)w.a.put("categoria/".concat(t._id),{nombre:t.nombre,descripcion:t.descripcion},e).then((function(){t.limpiar(),t.cerrar(),t.listar()})).catch((function(t){console.log(t)}));else{var a={headers:{token:this.$store.state.token}};w.a.post("categoria",{nombre:this.nombre,descripcion:this.descripcion},a).then((function(){t.limpiar(),t.cerrar(),t.listar()})).catch((function(t){console.log(t)}))}},editItem:function(t){this._id=t._id,this.nombre=t.nombre,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},actiDesaVer:function(t,e){this.Modal=1,this.Nombre=e.nombre,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},actiDesaCerrar:function(){this.Modal=0},DeleteCerrar:function(){this.ModalEliminar=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("categoria/activar/".concat(t.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("categoria/desactivar/".concat(t.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},cerrar:function(){this.dialog=!1,this.limpiar},deleteItem:function(t){this.ModalEliminar=1,this.Nombre=t.nombre,this.Id=t._id},eliminar:function(){var t={id:this.id,token:this.$store.state.token};w.a.delete("categoria/".concat(t._id),this.headers).then((function(t){console.log(t)}))}}},nt=it,rt=a("b0af"),st=a("99d9"),lt=a("a523"),ct=a("8fea"),dt=a("169a"),ut=a("ce7e"),vt=a("0e8f"),mt=a("132d"),ht=a("a722"),pt=a("2fa4"),ft=a("8654"),bt=a("71d9"),xt=a("2a7f"),gt=Object(d["a"])(nt,et,at,!1,null,null,null),_t=gt.exports;f()(gt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("button",{on:{click:t.crearPDF}},[a("v-icon",[t._v(" mdi-printer-check")])],1),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.tituForm))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"precioventa"},model:{value:t.precioventa,callback:function(e){t.precioventa=e},expression:"precioventa"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.cerrar}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.actiDesaCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)})],1)],1)],1)},Ct=[],yt={data:function(){return{dialog:!1,search:"",articulos:[],headers:[{text:"Nombre",value:"nombre",sortable:!0},{text:"Codigo",value:"codigo",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Precio Venta",value:"precioventa",sortable:!0},{text:"Stock",value:"stock",sortable:!0},{text:"Categoria",value:"categoria.nombre",sortable:!0},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],editedIndex:-1,id:"",categoria:"",categorias:[],codigo:"",nombre:"",stock:0,precioventa:0,descripcion:"",valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:""}},watch:{dialog:function(t){t||this.cerrar()}},computed:{tituForm:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},created:function(){this.listar(),this.selectCategoria()},methods:{selectCategoria:function(){var t=this,e=[],a={headers:{token:this.$store.state.token}};w.a.get("categoria",a).then((function(a){e=a.data.categoria,e.map((function(e){t.categorias.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"Codigo",dataKey:"codigo"},{title:"Categoria",dataKey:"categoria"},{title:"Descripción",dataKey:"descripcion"},{title:"Stock",dataKey:"stock"},{title:"Precio Venta",dataKey:"precioventa"}],e=[];console.log(this.articulos),this.articulos.map((function(t){e.push({nombre:t.nombre,codigo:t.codigo,descripcion:t.descripcion,precioventa:t.precioventa,stock:t.stock,categoria:t.categoria.nombre})}));var a=new ot["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Lista de Articulos",40,30)}}),a.save("Articulos.pdf")},listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("articulo",e).then((function(e){t.articulos=e.data.articulo})).catch((function(t){console.log(t)}))},limpiar:function(){this._id="",this.nombre="",this.codigo="",this.stock=0,this.precioventa=0,this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("Seleccione una categoria"),this.codigo.length>64&&this.validaMensaje.push("El codigo no debe tener mas de 64 caracteres"),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del articulo debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripcion del articulo no debe tener mas de 255 caracteres."),this.stock<0&&this.validaMensaje.push("Ingrese un stock valido"),this.precioventa<0&&this.validaMensaje.push("Ingrese un precio de venta valido"),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={headers:{token:this.$store.state.token}};this.validar()||(this.editedIndex>-1?w.a.put("articulo/".concat(t._id),{_id:this._id,categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precioventa:this.precioventa,descripcion:this.descripcion},e).then((function(e){t.listar(),t.limpiar(e),t.cerrar()})).catch((function(t){console.log(t)})):w.a.post("articulo",{categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precioventa:this.precioventa,descripcion:this.descripcion},e).then((function(){t.listar(),t.limpiar(),t.cerrar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.categoria=t.categoria._id,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precioventa=t.precioventa,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},actiDesaVer:function(t,e){this.Modal=1,this.Nombre=e.nombre,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},actiDesaCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("articulo/activar/".concat(t.Id),{},e).then((function(e){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar(e)})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("articulo/desactivar/".concat(t.Id),{},e).then((function(e){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar(e)})).catch((function(t){console.log(t)}))},cerrar:function(){this.dialog=!1}}},It=yt,At=a("b974"),Mt=Object(d["a"])(It,kt,Ct,!1,null,null,null),wt=Mt.exports;f()(Mt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("button",{on:{click:t.crearPDF}},[a("v-icon",[t._v(" mdi-printer-check")])],1),a("v-spacer"),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"item.seleccionar",fn:function(e){var o=e.item;return[o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.agregarDetalle(o)}}},[t._v(" mdi-plus ")])]:t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}}],null,!0)})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.close}},[t._v(" Cancelar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.compras,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)}):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipoComprobante,callback:function(e){t.tipoComprobante=e},expression:"tipoComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serieComprobante,callback:function(e){t.serieComprobante=e},expression:"serieComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:t.numComprobante,callback:function(e){t.numComprobante=e},expression:"numComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.personas,label:"Cliente"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",x8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"primary"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"item.borrar",fn:function(e){var o=e.item;return[[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.eliminarDetalle(t.detalles,o)}}},[t._v(" mdi-delete ")])]]}},{key:"item.cantidad",fn:function(e){var o=e.item;return[[a("v-text-field",{attrs:{type:"number"},model:{value:o.cantidad,callback:function(e){t.$set(o,"cantidad",e)},expression:"item.cantidad"}})]]}},{key:"item.descuento",fn:function(e){var o=e.item;return[[a("v-text-field",{attrs:{type:"number"},model:{value:o.descuento,callback:function(e){t.$set(o,"descuento",e)},expression:"item.descuento"}})]]}},{key:"item.subtotal",fn:function(e){var o=e.item;return[[a("v-text",{domProps:{textContent:t._s(o.precio*o.cantidad-o.descuento)}})]]}}],null,!0)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto:")]),t._v(" $ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto:")]),t._v(" $ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDetalle?a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1)],1)],1):t._e()],1)],1)],1)},Dt=[],Nt=(a("a434"),{data:function(){return{dialog:!1,search:"",compras:[],headers:[{text:"Usuario",value:"usuario.nombre",sortable:!1},{text:"Cliente",value:"persona.nombre",sortable:!0},{text:"Tipo Comprobante",value:"tipoComprobante"},{text:"Serie comprobante",value:"serieComprobante",sortable:!1},{text:"Número comprobante",value:"numComprobante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],id:"",persona:"",personas:[],tipoComprobante:"",comprobantes:["NOTA DEBITO","FACTURA","NOTA CREDITO"],serieComprobante:"",numComprobante:"",impuesto:.19,codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:0,errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,texto:"",articulos:[],cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoría",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precioventa",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],verDetalle:0,valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:"",fecha:null}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t=t+this.detalles[e].cantidad*this.detalles[e].precio-this.detalles[e].descuento;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPersona()},methods:{crearPDF:function(){var t=[{title:"Usuario",dataKey:"usuario"},{title:"Clientesss",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie comprobante",dataKey:"serieComprobante"},{title:"Número comprobante",dataKey:"numComprobante"},{title:"Impuesto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}],e=[];this.compras.map((function(t){e.push({usuario:t.usuario,persona:t.persona,tipoComprobante:t.tipoComprobante,serieComprobante:t.serieComprobante,numComprobante:t.numComprobante,impuesto:t.impuesto,total:t.total})}));var a=new ot["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Lista de Compras",40,30)}}),a.save("Compras.pdf")},selectPersona:function(){var t=this,e=[],a={headers:{token:this.$store.state.token}};w.a.get("persona",a).then((function(a){e=a.data.persona,e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},listarArticulos:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("articulo",e).then((function(e){console.log(e.data.articulo),t.articulos=e.data.articulo})).catch((function(t){console.log(t)}))},mostrarModalArticulos:function(){this.dialog=1,this.listarArticulos()},agregarDetalle:function(t){console.log(t),this.errorArticulo=null,1==this.encuentra(t._id)?this.errorArticulo="El artículo ya ha sido agregado.":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,precio:t.precioventa,descuento:0}),this.codigo="")},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle:function(t,e){console.log(t,"   /   ",e);var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarDetalles:function(t){var e=this,a={headers:{token:this.$store.state.token}};w.a.get("compra/".concat(t),a).then((function(t){e.detalles=t.data.compra.detalles})).catch((function(t){console.log(t)}))},listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("compra",e).then((function(e){t.compras=e.data.compra})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.tipoComprobante="",this.serieComprobante="",this.numComprobante="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.detalles=[],this.verNuevo=0,this.valida=0,this.validaMensaje=[],this.verDetalle=0},validar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Seleccione un Cliente."),this.numComprobante||this.validaMensaje.push("Ingrese el número del comprobante."),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},guardar:function(){var t=this,e={headers:{token:this.$store.state.token}};this.validar()||w.a.post("compra",{persona:this.persona,usuario:this.$store.state.usuario._id,tipoComprobante:this.tipoComprobante,serieComprobante:this.serieComprobante,numComprobante:this.numComprobante,impuesto:this.impuesto,total:this.total,detalles:this.detalles},e).then((function(){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){this.Modal=1,this.Nombre=e.numComprobante,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},activarDesactivarCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("compra/activar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("compra/desactivar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}}),Tt=Nt,Pt=Object(d["a"])(Tt,Vt,Dt,!1,null,null,null),jt=Pt.exports;f()(Pt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.tituForm))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.Iddocumento,callback:function(e){t.Iddocumento=e},expression:"Iddocumento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.actiDesaCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item,i=e.index;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o,i)}}},[t._v(" mdi-pencil ")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)})],1)],1)],1)},$t=[],Ot=a("5530"),St=a("2f62"),Ft={data:function(){return{dialog:!1,search:"",headers:[{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipoPersona",sortable:!0},{text:"Tipo Documento",value:"documento",sortable:!0},{text:"Número Documento",value:"Iddocumento",sortable:!0},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],editedIndex:-1,index:"",id:"",nombre:"",tipoPersona:"Cliente",documento:"",documentos:["CC","NIT","PASAPORTE","CE"],Iddocumento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:""}},computed:Object(Ot["a"])(Object(Ot["a"])({},Object(St["c"])({personas:"allCliente"})),{},{tituForm:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}}),watch:{dialog:function(t){t||this.close()}},created:function(){this.getPersona()},methods:Object(Ot["a"])(Object(Ot["a"])({},Object(St["b"])(["getPersona","newPersona","updatePersona"])),{},{listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("persona",e).then((function(e){t.personas=e.data.persona})).catch((function(t){console.log(t)}))},limpiar:function(){this._id="",this.nombre="",this.Iddocumento="",this.direccion="",this.telefono="",this.email="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la persona debe tener entre 1-50 caracteres."),this.Iddocumento.length>20&&this.validaMensaje.push("El documento no debe tener mas de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La direccion no debe tener mas de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El telefono no debe tener mas de 20 caracteres."),this.nombre.length>50&&this.validaMensaje.push("El email del usuario debe tener menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){this.validar()||(this.editedIndex>-1?this.updatePersona({persona:{id:this.id,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email},index:this.index}):this.newPersona({tipoPersona:this.tipoPersona,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email}),this.close())},editItem:function(t,e){this.id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.documento=t.documento,this.Iddocumento=t.Iddocumento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1,this.index=e},actiDesaVer:function(t,e){this.Modal=1,this.Nombre=e.nombre,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},actiDesaCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("persona/activar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("persona/desactivar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.limpiar()}})},Kt=Ft,Bt=Object(d["a"])(Kt,Et,$t,!1,null,null,null),Lt=Bt.exports;f()(Bt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedores")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.tituForm))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.Iddocumento,callback:function(e){t.Iddocumento=e},expression:"Iddocumento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.actiDesaCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item,i=e.index;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o,i)}}},[t._v(" mdi-pencil ")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.actiDesaVer(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)})],1)],1)],1)},qt=[],Ut={data:function(){return{dialog:!1,search:"",headers:[{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipoPersona",sortable:!0},{text:"Tipo Documento",value:"documento",sortable:!0},{text:"Número Documento",value:"Iddocumento",sortable:!0},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],editedIndex:-1,index:"",id:"",nombre:"",tipoPersona:"Proveedor",documento:"",documentos:["CC","NIT","PASAPORTE","CE"],Iddocumento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:""}},computed:Object(Ot["a"])(Object(Ot["a"])({},Object(St["c"])({personas:"allProveedores"})),{},{tituForm:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}}),watch:{dialog:function(t){t||this.close()}},created:function(){this.getPersona()},methods:Object(Ot["a"])(Object(Ot["a"])({},Object(St["b"])(["getPersona","newPersona","updatePersona"])),{},{listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("persona",e).then((function(e){t.personas=e.data.persona})).catch((function(t){console.log(t)}))},limpiar:function(){this._id="",this.nombre="",this.Iddocumento="",this.direccion="",this.telefono="",this.email="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la persona debe tener entre 1-50 caracteres."),this.Iddocumento.length>20&&this.validaMensaje.push("El documento no debe tener mas de 20 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){this.validar()||(this.editedIndex>-1?this.updatePersona({persona:{id:this.id,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email},index:this.index}):(console.log("Entrando al newPerson"),this.newPersona({tipoPersona:this.tipoPersona,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email})),this.close())},editItem:function(t,e){this.id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.documento=t.documento,this.Iddocumento=t.Iddocumento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1,this.index=e},actiDesaVer:function(t,e){this.Modal=1,this.Nombre=e.nombre,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},actiDesaCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("persona/activar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("persona/desactivar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.limpiar()}})},zt=Ut,Gt=Object(d["a"])(zt,Rt,qt,!1,null,null,null),Jt=Gt.exports;f()(Gt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.Iddocumento,callback:function(e){t.Iddocumento=e},expression:"Iddocumento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuario,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)})],1)],1)],1)},Qt=[],Wt={name:"usuario",data:function(){return{dialog:!1,search:"",usuario:[],headers:[{text:"Nombre",value:"nombre",sortable:!0},{text:"Rol",value:"rol",sortable:!0},{text:"Tipo Documento",value:"documento",sortable:!0},{text:"Número Documento",value:"Iddocumento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],editedIndex:-1,id:"",nombre:"",rol:"",roles:["Admin","almacenista","vendedor"],documento:"",documentos:["CC","PASAPORTE","TI"],Iddocumento:"",direccion:"",telefono:"",email:"",password:"",valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("usuario",e).then((function(e){t.usuario=e.data.usuario})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.nombre="",this.Iddocumento="",this.direccion="",this.telefono="",this.email="",this.password="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],this.rol||this.validaMensaje.push("Seleccione un rol."),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del usuario debe tener entre 1-50 caracteres."),this.Iddocumento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),(this.email.length<1||this.email.length>50)&&this.validaMensaje.push("El email del usuario debe tener entre 1-50 caracteres."),this.editedIndex<=-1&&(this.password.length<1||this.password.length>64)&&this.validaMensaje.push("El password del usuario debe tener entre 1-64 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={headers:{token:this.$store.state.token}};this.validar()||(this.editedIndex>-1?(console.log("control"),w.a.put("usuario/".concat(t._id),{_id:this.id,rol:this.rol,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email},e).then((function(){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)}))):w.a.post("usuario",{rol:this.rol,nombre:this.nombre,documento:this.documento,Iddocumento:this.Iddocumento,direccion:this.direccion,telefono:this.telefono,email:this.email,password:this.password},e).then((function(){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this.id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.documento=t.documento,this.Iddocumento=t.Iddocumento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar:function(t,e){this.Modal=1,this.Nombre=e.nombre,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},activarDesactivarCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("usuario/activar/".concat(t.Id),{},e).then((function(e){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar(e)})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("usuario/desactivar/".concat(t.Id),{},e).then((function(e){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar(e)})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}},Xt=Wt,Yt=Object(d["a"])(Xt,Ht,Qt,!1,null,null,null),Zt=Yt.exports;f()(Yt,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container"},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ventas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("button",{on:{click:t.crearPDF}},[a("v-icon",[t._v(" mdi-printer-check")])],1),a("v-spacer"),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"item.seleccionar",fn:function(e){var o=e.item;return[o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.agregarDetalle(o)}}},[t._v(" mdi-plus ")])]:t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}}],null,!0)})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.close}},[t._v(" Cancelar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" mdi-server-network ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" mdi-server-off ")])]]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Actualizar")])]},proxy:!0}],null,!0)}):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipoComprobante,callback:function(e){t.tipoComprobante=e},expression:"tipoComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serieComprobante,callback:function(e){t.serieComprobante=e},expression:"serieComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:t.numComprobante,callback:function(e){t.numComprobante=e},expression:"numComprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.personas,label:"Cliente"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",x8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"primary"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"item.borrar",fn:function(e){var o=e.item;return[[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.eliminarDetalle(t.detalles,o)}}},[t._v(" mdi-delete ")])]]}},{key:"item.cantidad",fn:function(e){var o=e.item;return[[a("v-text-field",{attrs:{type:"number"},model:{value:o.cantidad,callback:function(e){t.$set(o,"cantidad",e)},expression:"item.cantidad"}})]]}},{key:"item.descuento",fn:function(e){var o=e.item;return[[a("v-text-field",{attrs:{type:"number"},model:{value:o.descuento,callback:function(e){t.$set(o,"descuento",e)},expression:"item.descuento"}})]]}},{key:"item.subtotal",fn:function(e){var o=e.item;return[[a("v-text",{domProps:{textContent:t._s(o.precio*o.cantidad-o.descuento)}})]]}}],null,!0)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto:")]),t._v(" $ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto:")]),t._v(" $ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDetalle?a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1)],1)],1):t._e()],1)],1)],1)},ee=[],ae={data:function(){return{dialog:!1,search:"",ventas:[],headers:[{text:"Usuario",value:"usuario.nombre",sortable:!1},{text:"Cliente",value:"persona.nombre",sortable:!0},{text:"Tipo Comprobante",value:"tipoComprobante",sortable:!0},{text:"Serie comprobante",value:"serieComprobante",sortable:!1},{text:"Número comprobante",value:"numComprobante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],id:"",persona:"",personas:[],tipoComprobante:"",comprobantes:["NOTA DEBITO","FACTURA","NOTA CREDITO"],serieComprobante:"",numComprobante:"",impuesto:.19,codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:0,errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,texto:"",articulos:[],cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoría",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precioventa",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],verDetalle:0,valida:0,validaMensaje:[],Modal:0,Accion:0,Nombre:"",Id:"",fecha:null}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t=t+this.detalles[e].cantidad*this.detalles[e].precio-this.detalles[e].descuento;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPersona()},methods:{crearPDF:function(){var t=[{title:"Usuario",dataKey:"usuario"},{title:"Persona",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie comprobante",dataKey:"serieComprobante"},{title:"Número comprobante",dataKey:"numComprobante"},{title:"Impuesto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}],e=[];this.ventas.map((function(t){e.push({usuario:t.usuario,persona:t.persona,tipoComprobante:t.tipoComprobante,serieComprobante:t.serieComprobante,numComprobante:t.numComprobante,impuesto:t.impuesto,total:t.total})}));var a=new ot["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Lista de Ventas",40,30)}}),a.save("Ventas.pdf")},selectPersona:function(){var t=this,e=[],a={headers:{token:this.$store.state.token}};w.a.get("persona",a).then((function(a){e=a.data.persona,e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},listarArticulos:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("articulo",e).then((function(e){console.log(e.data.articulo),t.articulos=e.data.articulo})).catch((function(t){console.log(t)}))},mostrarModalArticulos:function(){this.dialog=1,this.listarArticulos()},agregarDetalle:function(t){console.log(t),this.errorArticulo=null,1==this.encuentra(t._id)?this.errorArticulo="El artículo ya ha sido agregado.":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,precio:t.precioventa,descuento:0}),this.codigo="")},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle:function(t,e){console.log(t,"   /   ",e);var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarDetalles:function(t){var e=this,a={headers:{token:this.$store.state.token}};w.a.get("venta/".concat(t),a).then((function(t){e.detalles=t.data.venta.detalles})).catch((function(t){console.log(t)}))},listar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.get("venta",e).then((function(e){t.ventas=e.data.venta})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.tipoComprobante="",this.serieComprobante="",this.numComprobante="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.detalles=[],this.verNuevo=0,this.valida=0,this.validaMensaje=[],this.verDetalle=0},validar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Seleccione un Cliente."),this.numComprobante||this.validaMensaje.push("Ingrese el número del comprobante."),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},guardar:function(){var t=this,e={headers:{token:this.$store.state.token}};this.validar()||w.a.post("venta",{persona:this.persona,usuario:this.$store.state.usuario._id,tipoComprobante:this.tipoComprobante,serieComprobante:this.serieComprobante,numComprobante:this.numComprobante,impuesto:this.impuesto,total:this.total,detalles:this.detalles},e).then((function(){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){this.Modal=1,this.Nombre=e.numComprobante,this.Id=e._id,1==t?this.Accion=1:2==t?this.Accion=2:this.Modal=0},activarDesactivarCerrar:function(){this.Modal=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("venta/activar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};w.a.put("venta/desactivar/".concat(this.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}},oe=ae,ie=Object(d["a"])(oe,te,ee,!1,null,null,null),ne=ie.exports;f()(ie,{VBtn:N["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VContainer:lt["a"],VDataTable:ct["a"],VDialog:dt["a"],VDivider:ut["a"],VFlex:vt["a"],VIcon:mt["a"],VLayout:ht["a"],VSelect:At["a"],VSpacer:pt["a"],VTextField:ft["a"],VToolbar:bt["a"],VToolbarTitle:xt["a"]});a("4de4");o["default"].use(St["a"]);var re=new St["a"].Store({state:{token:null,usuario:null,rol:"",persona:[]},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e},setRol:function(t,e){t.rol=e},setPersona:function(t,e){t.persona=e}},actions:{setToken:function(t,e){t.commit("setToken",e.token),t.commit("setUsuario",e.usuario)},setRol:function(t,e){t.commit("setRol",e)},getPersona:function(t){var e=t.commit,a=t.state,o={headers:{token:a.token}};w.a.get("persona",o).then((function(t){e("setPersona",t.data.persona)})).catch((function(t){console.log(t)}))},newPersona:function(t,e){var a=t.commit,o=t.state;console.log("Entrando al post");var i={headers:{token:o.token}};w.a.post("persona",{tipoPersona:e.tipoPersona,nombre:e.nombre,documento:e.documento,Iddocumento:e.Iddocumento,direccion:e.direccion,telefono:e.telefono,email:e.email},i).then((function(t){console.log("Entrando al then");var e=o.persona;e.push(t.data.persona),a("setPersona",e)})).catch((function(t){console.log(t)})),console.log("saliendo del post en la puerta del then")},updatePersona:function(t,e){var a=t.commit,o=t.state,i=e.persona,n=e.index,r={headers:{token:o.token}};w.a.put("persona/".concat(i.id),{nombre:i.nombre,documento:i.documento,Iddocumento:i.Iddocumento,direccion:i.direccion,telefono:i.telefono,email:i.email},r).then((function(t){var e=o.persona,r=Object(Ot["a"])(Object(Ot["a"])({},t.data.persona),{},{nombre:i.nombre,documento:i.documento,Iddocumento:i.Iddocumento,direccion:i.direccion,telefono:i.telefono,email:i.email});e.splice(n,2,r),a("setPersona",e)})).catch((function(t){console.log(t)}))}},modules:{},getters:{header:function(t){return{headers:{token:t.token}}},allCliente:function(t){return t.persona.filter((function(t){return"Cliente"===t.tipoPersona}))},allProveedores:function(t){return t.persona.filter((function(t){return"Proveedor"===t.tipoPersona}))}}});o["default"].use(k["a"]);var se=[{path:"/login",name:"Inicio",component:O},{path:"/Minicio",name:"Minicios",component:tt},{path:"/menu",name:"Menuu",component:R},{path:"/categoria",name:"Categoria",component:_t},{path:"/articulo",name:"Articulo",component:wt},{path:"/ingreso",name:"Ingresos",component:jt},{path:"/proveedor",name:"Proveedor",component:Jt},{path:"/venta",name:"Ventas",component:ne},{path:"/cliente",name:"Cliente",component:Lt},{path:"/usuario",name:"Usuario",component:Zt}],le=new k["a"]({mode:"history",base:"/",routes:se});le.beforeEach((function(t,e,a){re.state.token||"/login"==t.path?a():a({name:"Inicio"})}));var ce=le,de=a("5f5b"),ue=a("b1e0"),ve=(a("f9e3"),a("2dd8"),a("f309"));o["default"].use(ve["a"]);var me=new ve["a"]({});o["default"].use(de["a"]),o["default"].use(ue["a"]),w.a.defaults.baseURL="http://localhost:5050/api/",o["default"].config.productionTip=!1,new o["default"]({router:ce,store:re,vuetify:me,render:function(t){return t(_)}}).$mount("#app")},"85ec":function(t,e,a){},"8d50":function(t,e,a){},"9ce0":function(t,e,a){"use strict";a("d64c")},d64c:function(t,e,a){},efa6:function(t,e,a){"use strict";a("8d50")}});
//# sourceMappingURL=app.0b84ae0d.js.map